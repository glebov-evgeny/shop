(window.webpackJsonp=window.webpackJsonp||[]).push([[23,21,28],{344:function(r,e){r.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},345:function(r,e,t){"use strict";var o=t(2),n=t(346).trim;o({target:"String",proto:!0,forced:t(348)("trim")},{trim:function(){return n(this)}})},346:function(r,e,t){var o=t(6),n=t(38),l=t(15),c=t(344),m=o("".replace),d="["+c+"]",f=RegExp("^"+d+d+"*"),_=RegExp(d+d+"*$"),h=function(r){return function(e){var t=l(n(e));return 1&r&&(t=m(t,f,"")),2&r&&(t=m(t,_,"")),t}};r.exports={start:h(1),end:h(2),trim:h(3)}},348:function(r,e,t){var o=t(101).PROPER,n=t(4),l=t(344);r.exports=function(r){return n((function(){return!!l[r]()||"​᠎"!=="​᠎"[r]()||o&&l[r].name!==r}))}},353:function(r,e,t){"use strict";t.r(e);t(345);var o=t(3),n=(t(29),t(20),t(24),t(354),{name:"m-form",props:{className:{type:String,default:""}},data:function(){return{email:null,password:null,emailError:!1,passwordError:!1,formWasSend:!0,currentClass:this.className}},methods:{validateForm:function(r){null==this.email?this.emailError=!0:this.validEmail(this.email),null==this.name?this.nameError=!0:this.validName(this.name),!1===this.nameError&&!1===this.emailError&&this.sendForm(),r.preventDefault()},validEmail:function(r){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?this.emailError=!1:this.emailError=!0},validName:function(r){/^[a-zA-ZА-Яа-яЁё\s]+$/.test(r)?this.nameError=!1:this.nameError=!0},sendForm:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={name:r.name,useremail:r.email,text:r.text};try{emailjs.send("service_chcob9d","template_509iqp1",t),r.formWasSend=!1}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})))()}}}),l=t(65),component=Object(l.a)(n,(function(){var r=this,e=r._self._c;return e("form",{staticClass:"form",class:r.currentClass,on:{submit:r.validateForm}},[r.formWasSend?e("div",{staticClass:"form__wrapper"},[r._m(0),r._v(" "),e("div",{staticClass:"form__content"},[e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form__input",class:r.emailError?"error":"",attrs:{type:"email",placeholder:"Почта"},domProps:{value:r.email},on:{input:function(e){e.target.composing||(r.email=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form__input",class:r.passwordError?"error":"",attrs:{type:"password",placeholder:"Пароль"},domProps:{value:r.password},on:{input:function(e){e.target.composing||(r.password=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("button",{staticClass:"form__button",attrs:{type:"submit"}},[r._v("Отправить")])])]):e("div",{staticClass:"form__wrapper"},[r._m(1)])])}),[function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info"},[e("h3",{staticClass:"form__title"},[r._v("Registrationr")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("Description text for information.")])])},function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info _center"},[e("h3",{staticClass:"form__title"},[r._v("Пасиба!")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("всё ок")])])}],!1,null,null,null);e.default=component.exports},354:function(r,e,t){var content=t(355);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[r.i,content,""]]),content.locals&&(r.exports=content.locals);(0,t(100).default)("22bec8ce",content,!0,{sourceMap:!1})},355:function(r,e,t){var o=t(99)(!1);o.push([r.i,".form{display:flex;flex-direction:column;padding:0;background:none;border-radius:var(--border-radius)}.form__title{font-size:1.5rem;line-height:135%}.form__description{margin-top:.9375rem;font-size:1.125rem;line-height:135%}.form__content{display:flex;flex-direction:column;margin-top:1.875rem}.form__info._center{text-align:center}.form__label{width:100%;margin-bottom:.625rem}.form__input{display:flex;width:100%;min-height:2.8125rem;padding:.3125rem .9375rem;background:var(--color-white);border:.125rem solid var(--color-grey);border-radius:var(--border-radius-sm);outline:none;font-size:1rem;line-height:135%}.form__input.error{border:.125rem solid var(--color-purple);box-shadow:inset 0 0 .3125rem var(--color-purple)}.form__textarea{resize:vertical;width:100%;min-height:7.5rem;margin-bottom:.625rem;padding:.3125rem .9375rem;background:var(--color-white);border:.125rem solid var(--color-grey);border-radius:var(--border-radius-sm);outline:none;font-size:1rem;line-height:135%}.form__change{min-height:1.5625rem;margin:.9375rem auto 0;background:transparent;border:none;font-size:.875rem}.form__button,.form__change{display:flex;justify-content:center;align-items:center;width:100%;color:var(--color-black);outline:none;font-weight:900;line-height:135%;cursor:pointer}.form__button{min-height:2.8125rem;background:var(--color-yellow);border:.125rem solid var(--color-yellow);border-radius:var(--border-radius-sm);font-size:1rem}.form__error{margin-bottom:.9375rem;color:var(--color-purple);font-size:.75rem;font-weight:900;line-height:135%}.form__social{display:flex;justify-content:center;align-items:center;margin-top:.9375rem}.form__social-icon{max-width:1.25rem;margin:0 .625rem;cursor:pointer}",""]),r.exports=o},356:function(r,e,t){"use strict";t.r(e);t(79),t(358);var o={name:"m-form-success-send",methods:{closeYourself:function(){setTimeout((function(){document.querySelector(".s_popup").click()}),3e3)}},mounted:function(){this.closeYourself()}},n=t(65),component=Object(n.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var r=this._self._c;return r("div",{staticClass:"m_form_success_send"},[r("div",{staticClass:"m_form_success_send__block"},[r("p",{staticClass:"m-code__title"},[this._v("спасибо")])])])}],!1,null,null,null);e.default=component.exports},358:function(r,e,t){var content=t(359);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[r.i,content,""]]),content.locals&&(r.exports=content.locals);(0,t(100).default)("16a765da",content,!0,{sourceMap:!1})},359:function(r,e,t){var o=t(99)(!1);o.push([r.i,".m_form_success_send__title{font-size:1.5rem;line-height:135%}.m_form_success_send__block{display:flex;justify-content:center;align-items:center}.m_form_success_send__info{font-size:.875rem;line-height:135%}",""]),r.exports=o},377:function(r,e){r.exports=function(r){r.options.__i18n=r.options.__i18n||[],r.options.__i18n.push('{"ru":{"title":"Войти","description":"Укажите вашу почту и пароль: (testtest@mail.ru/testtest)","email":"Почта","password":"Пароль","send":"Отправить","toggleOption":"регистрация"},"en":{"title":"Login","description":"Enter your email and password:","email":"email","password":"password","send":"send","toggleOption":"registration"}}'),delete r.options._Ctor}},388:function(r,e,t){"use strict";t.d(e,"a",(function(){return n}));var o=t(3);t(29);function n(r,e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(regeneratorRuntime.mark((function r(e,t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"OlLzlIUG3BYMvRfC3sjz1r19b9w1"===t.get("user").split(":")[2].split('"')[1]?e.push("/admin"):e.push("/account");case 2:case"end":return r.stop()}}),r)})))).apply(this,arguments)}},405:function(r,e,t){r.exports=t.p+"img/google.da17d8a.png"},406:function(r,e,t){"use strict";var o=t(377),n=t.n(o);e.default=n.a},435:function(r,e,t){"use strict";t.r(e);t(345);var o=t(3),n=(t(29),t(24),t(353),t(388)),l=t(356),c={name:"m-form-login",props:{className:{type:String,default:""}},components:{MFormSuccessSend:l.default},data:function(){return{email:null,password:null,emailError:!1,passwordError:!1,formWasSend:!0,errorMessageText:"Тест сообщения об ошибке с многословным пояснением и подробным описанием проблемы, для визуализации переполнения контейнера излишней информацией.",errorMessageShow:!1,currentClass:this.className}},methods:{validateForm:function(r){null==this.email?this.emailError=!0:this.validEmail(this.email),null==this.password?this.passwordError=!0:this.validPassword(this.password),!1===this.passwordError&&!1===this.emailError&&this.loginUser(),r.preventDefault()},validEmail:function(r){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?this.emailError=!1:this.emailError=!0},validPassword:function(r){this.password.length>6?this.passwordError=!1:this.passwordError=!0},loginUser:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$fire.auth.signInWithEmailAndPassword(r.email,r.password);case 3:return t=e.sent,r.$store.commit("setToken",t.user.uid),o={email:t.user.email,id:t.user.uid},r.$cookies.set("user",o,{path:"/",maxAge:604800}),r.errorMessageText="",r.errorMessageShow=!1,r.formWasSend=!1,e.next=12,Object(n.a)(r.$router,r.$cookies);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),"Firebase: Error (auth/wrong-password)."===e.t0.message?r.somethingWrong("Неправильный логин/пароль."):"Firebase: Error (auth/user-not-found)."===e.t0.message||"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===e.t0.message?r.somethingWrong("Пользователь не найден."):console.error("Ошибка: ".concat(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},somethingWrong:function(r){this.emailError=!0,this.passwordError=!0,this.errorMessageText=r,this.errorMessageShow=!0},signInGoogle:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new r.$fireModule.auth.GoogleAuthProvider,e.next=3,r.$fire.auth.signInWithPopup(t);case 3:return o=e.sent,r.$store.commit("setToken",o.user.uid),l={email:o.user.email,id:o.user.uid},r.$cookies.set("user",l,{path:"/",maxAge:604800}),r.errorMessageText="",r.errorMessageShow=!1,r.formWasSend=!1,e.next=12,Object(n.a)(r.$router,r.$cookies);case 12:case"end":return e.stop()}}),e)})))()},changeFormLoginOrRegistration:function(){this.$emit("changeFormRegLog")}}},m=t(65),d=t(406),component=Object(m.a)(c,(function(){var r=this,e=r._self._c;return e("form",{staticClass:"form",class:r.currentClass,on:{submit:r.validateForm}},[r.formWasSend?e("div",{staticClass:"form__wrapper"},[e("div",{staticClass:"form__info"},[e("h3",{staticClass:"form__title"},[r._v(r._s(r.$t("title")))]),r._v(" "),e("p",{staticClass:"form__description",domProps:{innerHTML:r._s(r.$t("description"))}})]),r._v(" "),e("div",{staticClass:"form__content"},[e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form__input",class:r.emailError?"error":"",attrs:{type:"email",placeholder:r.$t("email")},domProps:{value:r.email},on:{input:function(e){e.target.composing||(r.email=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form__input",class:r.passwordError?"error":"",attrs:{type:"password",placeholder:r.$t("password")},domProps:{value:r.password},on:{input:function(e){e.target.composing||(r.password=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),r.errorMessageShow?e("p",{staticClass:"form__error"},[r._v(r._s(r.errorMessageText))]):r._e(),r._v(" "),e("button",{staticClass:"form__button",attrs:{type:"submit"}},[r._v(r._s(r.$t("send")))]),r._v(" "),e("button",{staticClass:"form__change",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),r.changeFormLoginOrRegistration.apply(null,arguments)}}},[r._v("\n        - "+r._s(r.$t("toggleOption"))+" -\n      ")]),r._v(" "),e("div",{staticClass:"form__social"},[e("div",{staticClass:"form__social-icon",on:{click:function(e){return e.stopPropagation(),r.signInGoogle.apply(null,arguments)}}},[e("img",{staticClass:"form__social-image",attrs:{src:t(405),alt:"icon"}})])])])]):e("div",{staticClass:"form__wrapper"},[e("MFormSuccessSend")],1)])}),[],!1,null,null,null);"function"==typeof d.default&&Object(d.default)(component);e.default=component.exports}}]);